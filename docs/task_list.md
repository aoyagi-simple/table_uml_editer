# タスクリスト

## ステージ 1: データ層（モデルと状態管理）

- [ ] **タスク 1.1: テーブルデータモデルの実装**
  - `Cell`と`Sheet`の型定義、値の設定・取得。
  - テスト: セル値の設定・取得（正常系）、範囲外エラー（異常系）。
- [ ] **タスク 1.2: UMLエディタ状態モデルの実装**
  - `UmlEditorState`型定義、モード切替、DSL更新。
  - テスト: モード切替とDSL更新（正常系）、不正モードエラー（異常系）。
- [ ] **タスク 1.3: アプリ全体の状態管理**
  - `AppState`型とSvelte storeのセットアップ。
  - テスト: テーブル、UML、分割比率の更新（正常系）、範囲外比率エラー（異常系）。
- [ ] **タスク 1.4: YAML保存ロジック**
  - `AppState`をトリミングしてYAMLに変換、ダウンロード。
  - テスト: データのYAML化（正常系）、空データ出力（異常系）。
- [ ] **タスク 1.5: YAML読み込みロジック**
  - YAMLをパースして`AppState`に反映。
  - テスト: YAML復元（正常系）、不正YAMLでエラー（異常系）。

## ステージ 2: ロジック層（コンポーネントロジック）

- [ ] **タスク 2.1: テーブル編集ロジック**
  - 20×20グリッドのセル編集ロジック。
  - テスト: セル入力反映（正常系）、範囲外無反応（異常系）。
- [ ] **タスク 2.2: UMLエディタロジック**
  - DSL入力とモード切替ロジック。
  - テスト: DSL反映とモード切替（正常系）、不正DSLエラー（異常系）。
- [ ] **タスク 2.3: UMLビューワー描画ロジック**
  - DSLをMermaid.jsでリアルタイム描画（1秒debounce）。
  - テスト: 1秒後の描画更新（正常系）、不正DSLエラー（異常系）。
- [ ] **タスク 2.4: 分割スライダーロジック**
  - スライダーで分割比率（1〜99）を更新。
  - テスト: 比率更新（正常系）、範囲外無視（異常系）。
- [ ] **タスク 2.5: ヘルプ表示ロジック**
  - ヘルプボタンでオーバーレイとサンプル表示。
  - テスト: オーバーレイ表示と閉じる（正常系）、サンプル編集不可（異常系）。

## ステージ 3: UI層（コンポーネントと統合）

- [ ] **タスク 3.1: テーブルエリアUI**
  - 20×20グリッドのUIコンポーネント。
  - テスト: セル入力表示と更新（正常系）、範囲外無反応（異常系）。
- [ ] **タスク 3.2: UMLエリアUI**
  - エディターとビューワーの左右分割、三角ボタンでモード切替。
  - テスト: DSL入力・描画同期とモード切替（正常系）、不正DSLエラー（異常系）。
- [ ] **タスク 3.3: 分割スライダーUI**
  - スライダーUIとエリア分割の動的調整。
  - テスト: 比率変化（正常系）、極端値で崩れなし（異常系）。
- [ ] **タスク 3.4: 右上ボタンUI**
  - 「保存」と「ヘルプ（〇に?）」ボタン。
  - テスト: 保存ダウンロードとヘルプ表示（正常系）、データなしエラー（異常系）。
- [ ] **タスク 3.5: 全体レイアウト統合**
  - 全エリアとボタンを統合。
  - テスト: エリア配置と操作連携（正常系）、リサイズで崩れなし（異常系）。

## ステージ 4: ビルドと検証

- [ ] **タスク 4.1: SvelteKit静的ビルド設定**
  - 静的出力設定とビルド確認。
  - テスト: 静的ファイルで全機能動作（正常系）、ライブラリエラーなし（異常系）。
- [ ] **タスク 4.2: 統合テスト**
  - モックを外し、実際のAPIで動作確認。
  - テスト: 編集・描画・保存の連携（正常系）、不正入力エラー（異常系）。
