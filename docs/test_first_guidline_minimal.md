# テストファースト開発ガイドライン

テストファーストを採用するフロントエンドWebアプリ開発のタスク構築ルール。ミドルプログラマーが仕様書からタスクを効率的に構築できるようにする。他プロジェクトでも再利用可能。

## 対象

- **プログラマーレベル**: ミドル（TypeScript、フロントエンドフレームワーク、テストファースト、モック設計の経験者）。
- **プロジェクト例**: クライアントサイドWebアプリ（外部ライブラリ、ブラウザAPI使用）。

## ガイドライン

### 1. テストファースト

- 各機能の実装前に単体テストを書き、実装後に全テストがパスすることを確認。
- テスト対象: クラス、コンポーネント、UIロジック。
- 例: データモデルのメソッド、UIの状態更新、ユーザー操作の結果。

### 2. 進行ルール

- **テストパス必須**: 各タスクの全テストがパスするまで、次のタスクに進まない。
- **依存関係**:
  - データ層（例: モデル）→ ロジック層（例: コンポーネント）→ UI層の順。
  - 例: モデル実装後、コンポーネント、UIの順でテストと実装。
- **フロー**: テスト実装 → 機能実装 → テストパス確認。

### 3. モック戦略

- 外部依存（ライブラリ、ブラウザAPI、他のコンポーネント）はすべてモック化。
- ライブラリ: 主要関数の入出力を模倣（正常系で結果、異常系でエラー）。
- ブラウザAPI: ファイル操作、ダウンロード、アラートなどをモック。
- 例: 描画ライブラリの関数をモックし、固定結果を返す。
- テスト対象: 外部依存の結果処理（例: UI更新、エラー表示）。

### 4. 対象プログラマー

- **スキル要件**:
  - TypeScriptでのコーディング。
  - フロントエンドフレームワーク（例: Svelte, React）。
  - テストファーストとモック設計。
  - 非同期処理とエラーハンドリング。
- **自立度**: 仕様書からタスクを分解し、テストと実装を進行。シニアのレビューで補完。

### 5. 注意点

- テストは正常系と異常系をカバー。
- モックは簡潔に、ライブラリ内部ロジックは模倣しない。
- 統合テストではモックを減らし、本物動作を確認（必要時）。

## 適用例

- フロントエンドアプリ（例: データ可視化、フォーム入力）。
- 外部ライブラリやブラウザAPIを使用。
- テストファースト、依存性注入を採用。
